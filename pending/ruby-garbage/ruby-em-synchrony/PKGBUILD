# Generated by gem2arch (https://github.com/anatol/gem2arch)
# Maintainer: ArchStrike <team@archstrike.org>

_gemname=em-synchrony

buildarch=1

pkgname=ruby-$_gemname
pkgver=1.0.3
pkgrel=3
pkgdesc='Fiber aware EventMachine libraries'
arch=(any)
url='http://github.com/igrigorik/em-synchrony'
license=(MIT)
depends=(ruby ruby-eventmachine)
options=(!emptydirs)
source=("https://rubygems.org/downloads/$_gemname-$pkgver.gem" 'LICENSE')
noextract=($_gemname-$pkgver.gem)
sha512sums=('50d9f147553cadace5ba60f3f4d9673e97dfc4f40a5154417ad8fb02ae0323c49bc57b1905052aebcc413f3d847826553d99042833a0e20088a4b850c7cd00de'
            '0851f321041441abf9eecf2ee0b75ff3ef49dc193417543989db0957d5d58d7b1481ca9a5092cde106d8f2fe27ac6f5d86f1cb1680702a64a2bcf1607053cbf6')

package() {
  local _gemdir="$(ruby -e'puts Gem.default_dir')"
  gem install --ignore-dependencies --no-user-install -i "$pkgdir/$_gemdir" -n "$pkgdir/usr/bin" $_gemname-$pkgver.gem
  rm "$pkgdir/$_gemdir/cache/$_gemname-$pkgver.gem"
  install -Dm644 "$srcdir/LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
