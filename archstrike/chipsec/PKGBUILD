# Maintainer: ArchStrike <team archstrike org>
# Contributor: CHIPSEC team <chipsec@intel.com>

buildarch=192

pkgname=chipsec
pkgver=1.2.4
pkgrel=1
groups=('archstrike' 'archstrike-hardware' 'archstrike-forensics')
pkgdesc="A framework for analyzing security of PC platforms including hardware, system firmware including BIOS/UEFI and the configuration of platform components."
arch=('i686' 'x86_64' )
url='https://github.com/chipsec/chipsec'
license=('GPL2')
depends=('python2' 'nasm' 'linux-headers')
source=("https://github.com/chipsec/chipsec/archive/v$pkgver.tar.gz")
sha512sums=('680340a132f8154286a933db1ad8d1a8078a2bc34ab4526a6b4dbf10cb58116c6a01c52e560aaf8684a1634d688c09c6e06e91289cd59b1bd019055e503c76fd')

build(){
  cd "$srcdir/chipsec-$pkgver/source/drivers/linux/"
  make
}

package() {
  cd "$srcdir/chipsec-$pkgver/source/tools/"

  python2 setup.py install root=$pkgdir --optimize=1


}

