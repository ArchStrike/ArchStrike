# Maintainer: ArchStrike <team@archstrike.org>
# Contributor: Diogo Leal <estranho@diogoleal.com>

buildarch=1

pkgname=exabgp
pkgver=4.2.12
pkgrel=1
pkgdesc='The BGP swiss army knife of networking'
arch=('any')
license=('custom')
groups=('archstrike' 'archstrike-networking')
url='https://github.com/Exa-Networks/exabgp'
depends=('python')
backup=('etc/exabgp.conf')
makedepends=('python-setuptools')
source=("${url}/archive/${pkgver}.zip"
        'exabgp.service')
sha512sums=('5d43a17c93798057f5f2f4ec5660a45f6d0b1c1077a25e1b40d36124e3e0041f79d903aad6c687d1ced0b5d822c74b444ef22573b595b92cccdfb514e18bd65c'
            '225726cf424d9c2a23a2c0e9d3c7ed8c5cf03993f9518efd8e45079822b2d8cbc4d6fd18b49794beee522530478b57e5e3b268b3abd92442680cdd695504360d')

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  python setup.py install --root="${pkgdir}" --install-data=/
  install -D -m 644 LICENCE.txt "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
  install -D -m 644 "${srcdir}/${pkgname}.service" "${pkgdir}/usr/lib/systemd/system/${pkgname}.service"
  install -D -m 644 /dev/null "${pkgdir}/etc/${pkgname}.conf"
}
