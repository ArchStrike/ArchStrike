# Maintainer: ArchStrike <team@archstrike.org>
# Maintainer : David Phillips <dbphillipsnz gmail>
# Contributor: Anatol Pomozov <anatol.pomozov@gmail.com>
# Originally generated by gem2arch (https://github.com/anatol/gem2arch)

buildarch=1

_gemname=colorize
pkgname=ruby-$_gemname
pkgver=0.7.7
pkgrel=2
pkgdesc='Add color methods to String class'
arch=('any')
url='http://github.com/fazibear/colorize'
license=('GPL2')
depends=('ruby')
options=(!emptydirs)
source=("https://rubygems.org/downloads/${_gemname}-${pkgver}.gem")
noextract=("${_gemname}-${pkgver}.gem")
sha512sums=('ac55d281a3ac7aa72c02ecdc27a1936410cb2754e48e0c23b98eba5e98a8bf42e362fe3a86e73c12ff5445f2e0a92a7c561e82a4d85aae0ef08a9855b056f359')

package() {
	local _gemdir="$(ruby -e'puts Gem.default_dir')"
	gem install \
		--ignore-dependencies \
		--no-user-install \
		-i "${pkgdir}/${_gemdir}" \
		-n "${pkgdir}/usr/bin" \
		"${_gemname}-${pkgver}.gem"

	rm "${pkgdir}/${_gemdir}/cache/${_gemname}-${pkgver}.gem"

	install -Dm644 \
		"${pkgdir}/${_gemdir}/gems/${_gemname}-${pkgver}/LICENSE" \
		"${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
