# Maintainer: ArchStrike <team@archstrike.org>

buildarch=1

DLAGENTS=("https::/usr/bin/curl -k -o %o %u")
pkgname=enum4linux
pkgver=0.8.9
pkgrel=8
groups=('archstrike' 'archstrike-scanners' 'archstrike-recon')
pkgdesc="A tool for enumerating information from Windows and Samba systems."
arch=('any')
url="http://labs.portcullis.co.uk/application/enum4linux/"
license=('GPL')
depends=('perl' 'smbclient' 'polenum' 'openldap')
source=("https://labs.portcullis.co.uk/download/enum4linux-0.8.9.tar.gz")
sha512sums=('3c3973ed85cbd585f5534a6871c4c07111d112d0be4e776780974e06ad4f0e47132a7d22e6c68658af5903811e9b87ef77e0b48e3dad848e2ebef5058b46ac83')

prepare() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  sed -i 's|polenum.py|polenum|' ${pkgname}.pl
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  install -Dm755 enum4linux.pl "${pkgdir}/usr/bin/enum4linux"
  install -Dm644 share-list.txt "${pkgdir}/usr/share/enum4linux/share-list.txt"
}
