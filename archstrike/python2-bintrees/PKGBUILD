#Automatically generated by pip2arch on 2016-05-22

buildarch=220

pkgname=python2-bintrees
pkgver=2.0.4
pkgrel=1
pkgdesc="Package provides Binary-, RedBlack- and AVL-Trees in Python and Cython."
url="http://bitbucket.org/mozman/bintrees"
depends=('python2')
makedepends=('python2-setuptools')
license=('CUSTOM')
arch=('i686' 'x86_64' 'armv6h' 'armv7h' 'aarch64')
source=("https://pypi.python.org/packages/b6/32/b6c08a1f5125977b7db8ad25e6534e36614822a6668639df779e6a1fcf84/bintrees-$pkgver.zip")
sha512sums=('9bfb5f47b552c7539e190af3431a24ebd2c9535817d83d5289f45d6c6e48d139fa2cf155eb662f85d6c6fa7a13a97f844b2bc5c5dd7accb6b81d3985938bf284')

build() {
    cd $srcdir/bintrees-$pkgver
    python2 setup.py build
}

package() {
    cd $srcdir/bintrees-$pkgver
    python2 setup.py install --root="$pkgdir" --optimize=1
    install -Dm644 LICENSE.txt "$pkgdir/usr/share/licenses/$pkgname/LICENSE.txt"
    #fix python issues
    grep -iRl 'python' "$pkgdir" | xargs sed -i 's|#!.*/usr/bin/python|#!/usr/bin/python2|;s|#!.*/usr/bin/env python|#!/usr/bin/env python2|'
}
